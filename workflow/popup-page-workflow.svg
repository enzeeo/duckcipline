<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 14.1.1 (20251213.1925)
 -->
<!-- Title: PopupPageWorkflow Pages: 1 -->
<svg width="1686pt" height="1253pt"
 viewBox="0.00 0.00 1686.00 1253.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1249.2)">
<title>PopupPageWorkflow</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1249.2 1682.16,-1249.2 1682.16,4 -4,4"/>
<!-- user_opens_panel -->
<g id="node1" class="node">
<title>user_opens_panel</title>
<path fill="#f7fafc" stroke="#64748b" d="M966.65,-1245.2C966.65,-1245.2 862.38,-1245.2 862.38,-1245.2 856.38,-1245.2 850.38,-1239.2 850.38,-1233.2 850.38,-1233.2 850.38,-1221.2 850.38,-1221.2 850.38,-1215.2 856.38,-1209.2 862.38,-1209.2 862.38,-1209.2 966.65,-1209.2 966.65,-1209.2 972.65,-1209.2 978.65,-1215.2 978.65,-1221.2 978.65,-1221.2 978.65,-1233.2 978.65,-1233.2 978.65,-1239.2 972.65,-1245.2 966.65,-1245.2"/>
<text xml:space="preserve" text-anchor="middle" x="914.51" y="-1228.75" font-family="Helvetica,sans-Serif" font-size="11.00">User opens side panel</text>
<text xml:space="preserve" text-anchor="middle" x="914.51" y="-1216.75" font-family="Helvetica,sans-Serif" font-size="11.00">(src/popup/popup.html)</text>
</g>
<!-- initialize_ui -->
<g id="node2" class="node">
<title>initialize_ui</title>
<path fill="#f7fafc" stroke="#64748b" d="M997.03,-1144.2C997.03,-1144.2 832,-1144.2 832,-1144.2 826,-1144.2 820,-1138.2 820,-1132.2 820,-1132.2 820,-1108.68 820,-1108.68 820,-1102.68 826,-1096.68 832,-1096.68 832,-1096.68 997.03,-1096.68 997.03,-1096.68 1003.03,-1096.68 1009.03,-1102.68 1009.03,-1108.68 1009.03,-1108.68 1009.03,-1132.2 1009.03,-1132.2 1009.03,-1138.2 1003.03,-1144.2 997.03,-1144.2"/>
<text xml:space="preserve" text-anchor="middle" x="914.51" y="-1127.99" font-family="Helvetica,sans-Serif" font-size="11.00">Initialize popup UI</text>
<text xml:space="preserve" text-anchor="middle" x="914.51" y="-1115.99" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; Default duration mode: 25 minutes</text>
<text xml:space="preserve" text-anchor="middle" x="914.51" y="-1103.99" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; Attach button listeners</text>
</g>
<!-- user_opens_panel&#45;&gt;initialize_ui -->
<g id="edge1" class="edge">
<title>user_opens_panel&#45;&gt;initialize_ui</title>
<path fill="none" stroke="#475569" d="M914.51,-1209.09C914.51,-1209.09 914.51,-1153.18 914.51,-1153.18"/>
<polygon fill="#475569" stroke="#475569" points="916.97,-1153.18 914.52,-1146.18 912.07,-1153.18 916.97,-1153.18"/>
</g>
<!-- initial_refresh -->
<g id="node3" class="node">
<title>initial_refresh</title>
<path fill="#f7fafc" stroke="#64748b" d="M968.9,-1031.68C968.9,-1031.68 860.12,-1031.68 860.12,-1031.68 854.12,-1031.68 848.12,-1025.68 848.12,-1019.68 848.12,-1019.68 848.12,-984.16 848.12,-984.16 848.12,-978.16 854.12,-972.16 860.12,-972.16 860.12,-972.16 968.9,-972.16 968.9,-972.16 974.9,-972.16 980.9,-978.16 980.9,-984.16 980.9,-984.16 980.9,-1019.68 980.9,-1019.68 980.9,-1025.68 974.9,-1031.68 968.9,-1031.68"/>
<text xml:space="preserve" text-anchor="middle" x="914.51" y="-1015.47" font-family="Helvetica,sans-Serif" font-size="11.00">Initial refresh</text>
<text xml:space="preserve" text-anchor="middle" x="914.51" y="-1003.47" font-family="Helvetica,sans-Serif" font-size="11.00">refreshAllDisplays()</text>
<text xml:space="preserve" text-anchor="middle" x="914.51" y="-991.47" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; getTimerState</text>
<text xml:space="preserve" text-anchor="middle" x="914.51" y="-979.47" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; getDuckRewardsState</text>
</g>
<!-- initialize_ui&#45;&gt;initial_refresh -->
<g id="edge2" class="edge">
<title>initialize_ui&#45;&gt;initial_refresh</title>
<path fill="none" stroke="#475569" d="M914.51,-1096.46C914.51,-1096.46 914.51,-1040.27 914.51,-1040.27"/>
<polygon fill="#475569" stroke="#475569" points="916.97,-1040.27 914.52,-1033.27 912.07,-1040.27 916.97,-1040.27"/>
</g>
<!-- timer_and_reward_display -->
<g id="node4" class="node">
<title>timer_and_reward_display</title>
<path fill="#f7fafc" stroke="#64748b" d="M1010.9,-907.16C1010.9,-907.16 818.12,-907.16 818.12,-907.16 812.12,-907.16 806.12,-901.16 806.12,-895.16 806.12,-895.16 806.12,-847.64 806.12,-847.64 806.12,-841.64 812.12,-835.64 818.12,-835.64 818.12,-835.64 1010.9,-835.64 1010.9,-835.64 1016.9,-835.64 1022.9,-841.64 1022.9,-847.64 1022.9,-847.64 1022.9,-895.16 1022.9,-895.16 1022.9,-901.16 1016.9,-907.16 1010.9,-907.16"/>
<text xml:space="preserve" text-anchor="middle" x="914.51" y="-890.95" font-family="Helvetica,sans-Serif" font-size="11.00">Render persistent display</text>
<text xml:space="preserve" text-anchor="middle" x="914.51" y="-878.95" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; Selected reward text above timer</text>
<text xml:space="preserve" text-anchor="middle" x="914.51" y="-866.95" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; Main timer</text>
<text xml:space="preserve" text-anchor="middle" x="914.51" y="-854.95" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; Reward time left below timer</text>
<text xml:space="preserve" text-anchor="middle" x="914.51" y="-842.95" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; Claim button visible only when claimable</text>
</g>
<!-- initial_refresh&#45;&gt;timer_and_reward_display -->
<g id="edge3" class="edge">
<title>initial_refresh&#45;&gt;timer_and_reward_display</title>
<path fill="none" stroke="#475569" d="M914.51,-971.98C914.51,-971.98 914.51,-915.75 914.51,-915.75"/>
<polygon fill="#475569" stroke="#475569" points="916.97,-915.75 914.52,-908.75 912.07,-915.75 916.97,-915.75"/>
</g>
<!-- polling_refresh -->
<g id="node5" class="node">
<title>polling_refresh</title>
<path fill="#f7fafc" stroke="#64748b" d="M322.15,-634.36C322.15,-634.36 166.88,-634.36 166.88,-634.36 160.88,-634.36 154.88,-628.36 154.88,-622.36 154.88,-622.36 154.88,-610.36 154.88,-610.36 154.88,-604.36 160.88,-598.36 166.88,-598.36 166.88,-598.36 322.15,-598.36 322.15,-598.36 328.15,-598.36 334.15,-604.36 334.15,-610.36 334.15,-610.36 334.15,-622.36 334.15,-622.36 334.15,-628.36 328.15,-634.36 322.15,-634.36"/>
<text xml:space="preserve" text-anchor="middle" x="244.51" y="-617.91" font-family="Helvetica,sans-Serif" font-size="11.00">Background polling every 1000ms</text>
<text xml:space="preserve" text-anchor="middle" x="244.51" y="-605.91" font-family="Helvetica,sans-Serif" font-size="11.00">refreshAllDisplays()</text>
</g>
<!-- timer_and_reward_display&#45;&gt;polling_refresh -->
<g id="edge4" class="edge">
<title>timer_and_reward_display:sw&#45;&gt;polling_refresh:n</title>
<path fill="none" stroke="#475569" d="M806.12,-854C806.12,-854 274.39,-854 274.39,-854 274.39,-854 274.39,-642.87 274.39,-642.87"/>
<polygon fill="#475569" stroke="#475569" points="276.85,-642.87 274.4,-635.87 271.95,-642.87 276.85,-642.87"/>
</g>
<!-- choose_duration -->
<g id="node6" class="node">
<title>choose_duration</title>
<path fill="#f7fafc" stroke="#64748b" d="M93.03,-646.12C93.03,-646.12 12,-646.12 12,-646.12 6,-646.12 0,-640.12 0,-634.12 0,-634.12 0,-598.6 0,-598.6 0,-592.6 6,-586.6 12,-586.6 12,-586.6 93.03,-586.6 93.03,-586.6 99.03,-586.6 105.03,-592.6 105.03,-598.6 105.03,-598.6 105.03,-634.12 105.03,-634.12 105.03,-640.12 99.03,-646.12 93.03,-646.12"/>
<text xml:space="preserve" text-anchor="middle" x="52.51" y="-629.91" font-family="Helvetica,sans-Serif" font-size="11.00">User sets duration</text>
<text xml:space="preserve" text-anchor="middle" x="52.51" y="-617.91" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; 25m preset</text>
<text xml:space="preserve" text-anchor="middle" x="52.51" y="-605.91" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; 50m preset</text>
<text xml:space="preserve" text-anchor="middle" x="52.51" y="-593.91" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; Custom minutes</text>
</g>
<!-- timer_and_reward_display&#45;&gt;choose_duration -->
<g id="edge6" class="edge">
<title>timer_and_reward_display:w&#45;&gt;choose_duration:n</title>
<path fill="none" stroke="#475569" d="M806.12,-889C806.12,-889 35.01,-889 35.01,-889 35.01,-889 35.01,-654.63 35.01,-654.63"/>
<polygon fill="#475569" stroke="#475569" points="37.46,-654.63 35.01,-647.63 32.56,-654.63 37.46,-654.63"/>
</g>
<!-- start_timer -->
<g id="node7" class="node">
<title>start_timer</title>
<path fill="#f7fafc" stroke="#64748b" d="M996.28,-770.64C996.28,-770.64 832.75,-770.64 832.75,-770.64 826.75,-770.64 820.75,-764.64 820.75,-758.64 820.75,-758.64 820.75,-723.12 820.75,-723.12 820.75,-717.12 826.75,-711.12 832.75,-711.12 832.75,-711.12 996.28,-711.12 996.28,-711.12 1002.28,-711.12 1008.28,-717.12 1008.28,-723.12 1008.28,-723.12 1008.28,-758.64 1008.28,-758.64 1008.28,-764.64 1002.28,-770.64 996.28,-770.64"/>
<text xml:space="preserve" text-anchor="middle" x="914.51" y="-754.43" font-family="Helvetica,sans-Serif" font-size="11.00">Start or Resume</text>
<text xml:space="preserve" text-anchor="middle" x="914.51" y="-742.43" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; send startTimer(durationSeconds)</text>
<text xml:space="preserve" text-anchor="middle" x="914.51" y="-730.43" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; update timer display</text>
<text xml:space="preserve" text-anchor="middle" x="914.51" y="-718.43" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; refresh duck rewards</text>
</g>
<!-- timer_and_reward_display&#45;&gt;start_timer -->
<g id="edge7" class="edge">
<title>timer_and_reward_display:s&#45;&gt;start_timer:n</title>
<path fill="none" stroke="#475569" d="M914.51,-835.64C914.51,-835.64 914.51,-779.15 914.51,-779.15"/>
<polygon fill="#475569" stroke="#475569" points="916.97,-779.15 914.52,-772.15 912.07,-779.15 916.97,-779.15"/>
</g>
<!-- pause_timer -->
<g id="node8" class="node">
<title>pause_timer</title>
<path fill="#f7fafc" stroke="#64748b" d="M519.03,-640.12C519.03,-640.12 396,-640.12 396,-640.12 390,-640.12 384,-634.12 384,-628.12 384,-628.12 384,-604.6 384,-604.6 384,-598.6 390,-592.6 396,-592.6 396,-592.6 519.03,-592.6 519.03,-592.6 525.03,-592.6 531.03,-598.6 531.03,-604.6 531.03,-604.6 531.03,-628.12 531.03,-628.12 531.03,-634.12 525.03,-640.12 519.03,-640.12"/>
<text xml:space="preserve" text-anchor="middle" x="457.51" y="-623.91" font-family="Helvetica,sans-Serif" font-size="11.00">Pause</text>
<text xml:space="preserve" text-anchor="middle" x="457.51" y="-611.91" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; send pauseTimer</text>
<text xml:space="preserve" text-anchor="middle" x="457.51" y="-599.91" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; update timer and rewards</text>
</g>
<!-- timer_and_reward_display&#45;&gt;pause_timer -->
<g id="edge8" class="edge">
<title>timer_and_reward_display:sw&#45;&gt;pause_timer:n</title>
<path fill="none" stroke="#475569" d="M813.44,-827.13C813.44,-827.13 813.44,-616 813.44,-616 813.44,-616 466.03,-616 466.03,-616"/>
<polygon fill="#475569" stroke="#475569" points="810.99,-827.13 813.44,-834.13 815.89,-827.13 810.99,-827.13"/>
<polygon fill="#475569" stroke="#475569" points="466.03,-613.55 459.03,-616 466.03,-618.45 466.03,-613.55"/>
</g>
<!-- reset_timer -->
<g id="node9" class="node">
<title>reset_timer</title>
<path fill="#f7fafc" stroke="#64748b" d="M1666.15,-646.12C1666.15,-646.12 1492.87,-646.12 1492.87,-646.12 1486.87,-646.12 1480.87,-640.12 1480.87,-634.12 1480.87,-634.12 1480.87,-598.6 1480.87,-598.6 1480.87,-592.6 1486.87,-586.6 1492.87,-586.6 1492.87,-586.6 1666.15,-586.6 1666.15,-586.6 1672.15,-586.6 1678.15,-592.6 1678.15,-598.6 1678.15,-598.6 1678.15,-634.12 1678.15,-634.12 1678.15,-640.12 1672.15,-646.12 1666.15,-646.12"/>
<text xml:space="preserve" text-anchor="middle" x="1579.51" y="-629.91" font-family="Helvetica,sans-Serif" font-size="11.00">Reset</text>
<text xml:space="preserve" text-anchor="middle" x="1579.51" y="-617.91" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; send resetTimer</text>
<text xml:space="preserve" text-anchor="middle" x="1579.51" y="-605.91" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; timer resets to session start duration</text>
<text xml:space="preserve" text-anchor="middle" x="1579.51" y="-593.91" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; reward progress remains</text>
</g>
<!-- timer_and_reward_display&#45;&gt;reset_timer -->
<g id="edge9" class="edge">
<title>timer_and_reward_display:e&#45;&gt;reset_timer:n</title>
<path fill="none" stroke="#475569" d="M1022.9,-879C1022.9,-879 1546.63,-879 1546.63,-879 1546.63,-879 1546.63,-654.63 1546.63,-654.63"/>
<polygon fill="#475569" stroke="#475569" points="1549.09,-654.63 1546.64,-647.63 1544.19,-654.63 1549.09,-654.63"/>
</g>
<!-- select_reward -->
<g id="node10" class="node">
<title>select_reward</title>
<path fill="#f7fafc" stroke="#64748b" d="M1159.15,-634.36C1159.15,-634.36 991.87,-634.36 991.87,-634.36 985.87,-634.36 979.87,-628.36 979.87,-622.36 979.87,-622.36 979.87,-610.36 979.87,-610.36 979.87,-604.36 985.87,-598.36 991.87,-598.36 991.87,-598.36 1159.15,-598.36 1159.15,-598.36 1165.15,-598.36 1171.15,-604.36 1171.15,-610.36 1171.15,-610.36 1171.15,-622.36 1171.15,-622.36 1171.15,-628.36 1165.15,-634.36 1159.15,-634.36"/>
<text xml:space="preserve" text-anchor="middle" x="1075.51" y="-617.91" font-family="Helvetica,sans-Serif" font-size="11.00">Select duck reward</text>
<text xml:space="preserve" text-anchor="middle" x="1075.51" y="-605.91" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; Set Duck Egg 1 or Set Duck Egg 2</text>
</g>
<!-- timer_and_reward_display&#45;&gt;select_reward -->
<g id="edge10" class="edge">
<title>timer_and_reward_display:se&#45;&gt;select_reward:n</title>
<path fill="none" stroke="#475569" d="M1015.59,-835.64C1015.59,-835.64 1015.59,-642.87 1015.59,-642.87"/>
<polygon fill="#475569" stroke="#475569" points="1018.04,-642.87 1015.59,-635.87 1013.14,-642.87 1018.04,-642.87"/>
</g>
<!-- persistence_note -->
<g id="node18" class="node">
<title>persistence_note</title>
<path fill="#eff6ff" stroke="#3b82f6" d="M758.53,-770.64C758.53,-770.64 536.5,-770.64 536.5,-770.64 530.5,-770.64 524.5,-764.64 524.5,-758.64 524.5,-758.64 524.5,-723.12 524.5,-723.12 524.5,-717.12 530.5,-711.12 536.5,-711.12 536.5,-711.12 758.53,-711.12 758.53,-711.12 764.53,-711.12 770.53,-717.12 770.53,-723.12 770.53,-723.12 770.53,-758.64 770.53,-758.64 770.53,-764.64 764.53,-770.64 758.53,-770.64"/>
<text xml:space="preserve" text-anchor="middle" x="647.51" y="-754.43" font-family="Helvetica,sans-Serif" font-size="11.00">Persistence behavior</text>
<text xml:space="preserve" text-anchor="middle" x="647.51" y="-742.43" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; Timer state: chrome.storage.session</text>
<text xml:space="preserve" text-anchor="middle" x="647.51" y="-730.43" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; Reward state and ducks: chrome.storage.local</text>
<text xml:space="preserve" text-anchor="middle" x="647.51" y="-718.43" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; Rehydrates when panel reopens</text>
</g>
<!-- timer_and_reward_display&#45;&gt;persistence_note -->
<g id="edge24" class="edge">
<title>timer_and_reward_display&#45;&gt;persistence_note</title>
<path fill="none" stroke="#475569" stroke-dasharray="5,2" d="M809.78,-835.42C809.78,-796.82 809.78,-741 809.78,-741 809.78,-741 793.34,-741 770.91,-741"/>
</g>
<!-- polling_refresh&#45;&gt;timer_and_reward_display -->
<g id="edge5" class="edge">
<title>polling_refresh:n&#45;&gt;timer_and_reward_display:sw</title>
<path fill="none" stroke="#475569" d="M214.63,-634.36C214.63,-634.36 214.63,-871 214.63,-871 214.63,-871 797.61,-871 797.61,-871"/>
<polygon fill="#475569" stroke="#475569" points="797.61,-873.45 804.61,-871 797.61,-868.55 797.61,-873.45"/>
</g>
<!-- choose_duration&#45;&gt;start_timer -->
<g id="edge11" class="edge">
<title>choose_duration&#45;&gt;start_timer</title>
<path fill="none" stroke="#475569" d="M70.02,-646.58C70.02,-662.6 70.02,-679 70.02,-679 70.02,-679 849.13,-679 849.13,-679 849.13,-679 849.13,-702.15 849.13,-702.15"/>
<polygon fill="#475569" stroke="#475569" points="846.69,-702.15 849.14,-709.15 851.59,-702.15 846.69,-702.15"/>
</g>
<!-- selected_reward_progress -->
<g id="node15" class="node">
<title>selected_reward_progress</title>
<path fill="#f7fafc" stroke="#64748b" d="M1147.15,-296.56C1147.15,-296.56 949.87,-296.56 949.87,-296.56 943.87,-296.56 937.87,-290.56 937.87,-284.56 937.87,-284.56 937.87,-261.04 937.87,-261.04 937.87,-255.04 943.87,-249.04 949.87,-249.04 949.87,-249.04 1147.15,-249.04 1147.15,-249.04 1153.15,-249.04 1159.15,-255.04 1159.15,-261.04 1159.15,-261.04 1159.15,-284.56 1159.15,-284.56 1159.15,-290.56 1153.15,-296.56 1147.15,-296.56"/>
<text xml:space="preserve" text-anchor="middle" x="1048.51" y="-280.35" font-family="Helvetica,sans-Serif" font-size="11.00">While timer runs</text>
<text xml:space="preserve" text-anchor="middle" x="1048.51" y="-268.35" font-family="Helvetica,sans-Serif" font-size="11.00">reward progress accumulates continuously</text>
<text xml:space="preserve" text-anchor="middle" x="1048.51" y="-256.35" font-family="Helvetica,sans-Serif" font-size="11.00">(timestamp based in background)</text>
</g>
<!-- start_timer&#45;&gt;selected_reward_progress -->
<g id="edge12" class="edge">
<title>start_timer&#45;&gt;selected_reward_progress</title>
<path fill="none" stroke="#475569" d="M946.88,-710.89C946.88,-710.89 946.88,-305.57 946.88,-305.57"/>
<polygon fill="#475569" stroke="#475569" points="949.33,-305.57 946.88,-298.57 944.43,-305.57 949.33,-305.57"/>
</g>
<!-- reset_timer&#45;&gt;timer_and_reward_display -->
<g id="edge13" class="edge">
<title>reset_timer&#45;&gt;timer_and_reward_display:e</title>
<path fill="none" stroke="#475569" d="M1612.39,-646.49C1612.39,-718.19 1612.39,-893 1612.39,-893 1612.39,-893 1031.42,-893 1031.42,-893"/>
<polygon fill="#475569" stroke="#475569" points="1031.42,-890.55 1024.42,-893 1031.42,-895.45 1031.42,-890.55"/>
</g>
<!-- select_reward_guard -->
<g id="node11" class="node">
<title>select_reward_guard</title>
<path fill="#f7fafc" stroke="#64748b" d="M1141.53,-521.6C1141.53,-521.6 973.5,-521.6 973.5,-521.6 967.5,-521.6 961.5,-515.6 961.5,-509.6 961.5,-509.6 961.5,-486.08 961.5,-486.08 961.5,-480.08 967.5,-474.08 973.5,-474.08 973.5,-474.08 1141.53,-474.08 1141.53,-474.08 1147.53,-474.08 1153.53,-480.08 1153.53,-486.08 1153.53,-486.08 1153.53,-509.6 1153.53,-509.6 1153.53,-515.6 1147.53,-521.6 1141.53,-521.6"/>
<text xml:space="preserve" text-anchor="middle" x="1057.51" y="-505.39" font-family="Helvetica,sans-Serif" font-size="11.00">Guard</text>
<text xml:space="preserve" text-anchor="middle" x="1057.51" y="-493.39" font-family="Helvetica,sans-Serif" font-size="11.00">Reward selection allowed only when</text>
<text xml:space="preserve" text-anchor="middle" x="1057.51" y="-481.39" font-family="Helvetica,sans-Serif" font-size="11.00">timer is not running</text>
</g>
<!-- select_reward&#45;&gt;select_reward_guard -->
<g id="edge14" class="edge">
<title>select_reward&#45;&gt;select_reward_guard</title>
<path fill="none" stroke="#475569" d="M1066.7,-598.1C1066.7,-598.1 1066.7,-530.59 1066.7,-530.59"/>
<polygon fill="#475569" stroke="#475569" points="1069.15,-530.59 1066.7,-523.59 1064.25,-530.59 1069.15,-530.59"/>
</g>
<!-- select_reward_allowed_idle -->
<g id="node12" class="node">
<title>select_reward_allowed_idle</title>
<path fill="#f7fafc" stroke="#64748b" d="M893.9,-403.32C893.9,-403.32 719.12,-403.32 719.12,-403.32 713.12,-403.32 707.12,-397.32 707.12,-391.32 707.12,-391.32 707.12,-379.32 707.12,-379.32 707.12,-373.32 713.12,-367.32 719.12,-367.32 719.12,-367.32 893.9,-367.32 893.9,-367.32 899.9,-367.32 905.9,-373.32 905.9,-379.32 905.9,-379.32 905.9,-391.32 905.9,-391.32 905.9,-397.32 899.9,-403.32 893.9,-403.32"/>
<text xml:space="preserve" text-anchor="middle" x="806.51" y="-386.87" font-family="Helvetica,sans-Serif" font-size="11.00">Allowed while timer is idle</text>
<text xml:space="preserve" text-anchor="middle" x="806.51" y="-374.87" font-family="Helvetica,sans-Serif" font-size="11.00">selection updates and progress resets</text>
</g>
<!-- select_reward_guard&#45;&gt;select_reward_allowed_idle -->
<g id="edge16" class="edge">
<title>select_reward_guard&#45;&gt;select_reward_allowed_idle</title>
<path fill="none" stroke="#475569" d="M961.19,-498C918.4,-498 877.52,-498 877.52,-498 877.52,-498 877.52,-412.19 877.52,-412.19"/>
<polygon fill="#475569" stroke="#475569" points="879.97,-412.19 877.52,-405.19 875.07,-412.19 879.97,-412.19"/>
</g>
<!-- select_reward_allowed_running_later -->
<g id="node13" class="node">
<title>select_reward_allowed_running_later</title>
<path fill="#f7fafc" stroke="#64748b" d="M1129.15,-403.32C1129.15,-403.32 967.87,-403.32 967.87,-403.32 961.87,-403.32 955.87,-397.32 955.87,-391.32 955.87,-391.32 955.87,-379.32 955.87,-379.32 955.87,-373.32 961.87,-367.32 967.87,-367.32 967.87,-367.32 1129.15,-367.32 1129.15,-367.32 1135.15,-367.32 1141.15,-373.32 1141.15,-379.32 1141.15,-379.32 1141.15,-391.32 1141.15,-391.32 1141.15,-397.32 1135.15,-403.32 1129.15,-403.32"/>
<text xml:space="preserve" text-anchor="middle" x="1048.51" y="-386.87" font-family="Helvetica,sans-Serif" font-size="11.00">Allowed now, then timer starts later</text>
<text xml:space="preserve" text-anchor="middle" x="1048.51" y="-374.87" font-family="Helvetica,sans-Serif" font-size="11.00">progress begins from zero</text>
</g>
<!-- select_reward_guard&#45;&gt;select_reward_allowed_running_later -->
<g id="edge15" class="edge">
<title>select_reward_guard&#45;&gt;select_reward_allowed_running_later</title>
<path fill="none" stroke="#475569" d="M1051.33,-473.7C1051.33,-473.7 1051.33,-412.02 1051.33,-412.02"/>
<polygon fill="#475569" stroke="#475569" points="1053.78,-412.02 1051.33,-405.02 1048.88,-412.02 1053.78,-412.02"/>
</g>
<!-- select_reward_denied -->
<g id="node14" class="node">
<title>select_reward_denied</title>
<path fill="#f7fafc" stroke="#64748b" d="M1302.03,-409.08C1302.03,-409.08 1203,-409.08 1203,-409.08 1197,-409.08 1191,-403.08 1191,-397.08 1191,-397.08 1191,-373.56 1191,-373.56 1191,-367.56 1197,-361.56 1203,-361.56 1203,-361.56 1302.03,-361.56 1302.03,-361.56 1308.03,-361.56 1314.03,-367.56 1314.03,-373.56 1314.03,-373.56 1314.03,-397.08 1314.03,-397.08 1314.03,-403.08 1308.03,-409.08 1302.03,-409.08"/>
<text xml:space="preserve" text-anchor="middle" x="1252.51" y="-392.87" font-family="Helvetica,sans-Serif" font-size="11.00">If timer is running</text>
<text xml:space="preserve" text-anchor="middle" x="1252.51" y="-380.87" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; Keep current reward</text>
<text xml:space="preserve" text-anchor="middle" x="1252.51" y="-368.87" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; Show error text</text>
</g>
<!-- select_reward_guard&#45;&gt;select_reward_denied -->
<g id="edge17" class="edge">
<title>select_reward_guard&#45;&gt;select_reward_denied</title>
<path fill="none" stroke="#475569" d="M1147.34,-473.63C1147.34,-440.48 1147.34,-385 1147.34,-385 1147.34,-385 1182.21,-385 1182.21,-385"/>
<polygon fill="#475569" stroke="#475569" points="1182.21,-387.45 1189.21,-385 1182.21,-382.55 1182.21,-387.45"/>
</g>
<!-- select_reward_allowed_idle&#45;&gt;timer_and_reward_display -->
<g id="edge19" class="edge">
<title>select_reward_allowed_idle&#45;&gt;timer_and_reward_display:sw</title>
<path fill="none" stroke="#475569" d="M817.09,-403.81C817.09,-403.81 817.09,-827.13 817.09,-827.13"/>
<polygon fill="#475569" stroke="#475569" points="814.64,-827.13 817.09,-834.13 819.54,-827.13 814.64,-827.13"/>
</g>
<!-- select_reward_allowed_running_later&#45;&gt;selected_reward_progress -->
<g id="edge18" class="edge">
<title>select_reward_allowed_running_later&#45;&gt;selected_reward_progress</title>
<path fill="none" stroke="#475569" d="M1048.51,-366.99C1048.51,-366.99 1048.51,-305.53 1048.51,-305.53"/>
<polygon fill="#475569" stroke="#475569" points="1050.97,-305.53 1048.52,-298.53 1046.07,-305.53 1050.97,-305.53"/>
</g>
<!-- select_reward_denied&#45;&gt;timer_and_reward_display -->
<g id="edge20" class="edge">
<title>select_reward_denied&#45;&gt;timer_and_reward_display:se</title>
<path fill="none" stroke="#475569" d="M1252.51,-409.32C1252.51,-504.48 1252.51,-850 1252.51,-850 1252.51,-850 1031.42,-850 1031.42,-850"/>
<polygon fill="#475569" stroke="#475569" points="1031.42,-847.55 1024.42,-850 1031.42,-852.45 1031.42,-847.55"/>
</g>
<!-- claim_available -->
<g id="node16" class="node">
<title>claim_available</title>
<path fill="#f7fafc" stroke="#64748b" d="M1216.15,-184.04C1216.15,-184.04 1054.87,-184.04 1054.87,-184.04 1048.87,-184.04 1042.87,-178.04 1042.87,-172.04 1042.87,-172.04 1042.87,-148.52 1042.87,-148.52 1042.87,-142.52 1048.87,-136.52 1054.87,-136.52 1054.87,-136.52 1216.15,-136.52 1216.15,-136.52 1222.15,-136.52 1228.15,-142.52 1228.15,-148.52 1228.15,-148.52 1228.15,-172.04 1228.15,-172.04 1228.15,-178.04 1222.15,-184.04 1216.15,-184.04"/>
<text xml:space="preserve" text-anchor="middle" x="1135.51" y="-167.83" font-family="Helvetica,sans-Serif" font-size="11.00">When reward requirement reached</text>
<text xml:space="preserve" text-anchor="middle" x="1135.51" y="-155.83" font-family="Helvetica,sans-Serif" font-size="11.00">claim button appears</text>
<text xml:space="preserve" text-anchor="middle" x="1135.51" y="-143.83" font-family="Helvetica,sans-Serif" font-size="11.00">(capped at one unclaimed reward)</text>
</g>
<!-- selected_reward_progress&#45;&gt;claim_available -->
<g id="edge21" class="edge">
<title>selected_reward_progress&#45;&gt;claim_available</title>
<path fill="none" stroke="#475569" d="M1101.01,-248.66C1101.01,-248.66 1101.01,-192.89 1101.01,-192.89"/>
<polygon fill="#475569" stroke="#475569" points="1103.47,-192.89 1101.02,-185.89 1098.57,-192.89 1103.47,-192.89"/>
</g>
<!-- claim_reward -->
<g id="node17" class="node">
<title>claim_reward</title>
<path fill="#f7fafc" stroke="#64748b" d="M1297.53,-71.52C1297.53,-71.52 1141.5,-71.52 1141.5,-71.52 1135.5,-71.52 1129.5,-65.52 1129.5,-59.52 1129.5,-59.52 1129.5,-12 1129.5,-12 1129.5,-6 1135.5,0 1141.5,0 1141.5,0 1297.53,0 1297.53,0 1303.53,0 1309.53,-6 1309.53,-12 1309.53,-12 1309.53,-59.52 1309.53,-59.52 1309.53,-65.52 1303.53,-71.52 1297.53,-71.52"/>
<text xml:space="preserve" text-anchor="middle" x="1219.51" y="-55.31" font-family="Helvetica,sans-Serif" font-size="11.00">Claim Duck</text>
<text xml:space="preserve" text-anchor="middle" x="1219.51" y="-43.31" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; send claimSelectedDuckReward</text>
<text xml:space="preserve" text-anchor="middle" x="1219.51" y="-31.31" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; store new duck object</text>
<text xml:space="preserve" text-anchor="middle" x="1219.51" y="-19.31" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; clear selected reward</text>
<text xml:space="preserve" text-anchor="middle" x="1219.51" y="-7.31" font-family="Helvetica,sans-Serif" font-size="11.00">&#45; user must select a new reward</text>
</g>
<!-- claim_available&#45;&gt;claim_reward -->
<g id="edge22" class="edge">
<title>claim_available&#45;&gt;claim_reward</title>
<path fill="none" stroke="#475569" d="M1178.83,-136.27C1178.83,-136.27 1178.83,-80.48 1178.83,-80.48"/>
<polygon fill="#475569" stroke="#475569" points="1181.28,-80.48 1178.83,-73.48 1176.38,-80.48 1181.28,-80.48"/>
</g>
<!-- claim_reward&#45;&gt;timer_and_reward_display -->
<g id="edge23" class="edge">
<title>claim_reward&#45;&gt;timer_and_reward_display:se</title>
<path fill="none" stroke="#475569" d="M1309.79,-36C1353.83,-36 1397.45,-36 1397.45,-36 1397.45,-36 1397.45,-864 1397.45,-864 1397.45,-864 1031.42,-864 1031.42,-864"/>
<polygon fill="#475569" stroke="#475569" points="1031.42,-861.55 1024.42,-864 1031.42,-866.45 1031.42,-861.55"/>
</g>
</g>
</svg>
